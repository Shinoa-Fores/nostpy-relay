# PostgreSQL configuration file

#--------------------------
# CUSTOMIZED OPTIONS
#--------------------------

shared_preload_libraries = 'pg_stat_statements' # Required for postgresql.queries.* metrics. Enables collection of query metrics using the pg_stat_statements extension.
track_activity_query_size = 4096 # Required for collection of larger queries. Increases the size of SQL text in pg_stat_activity and pg_stat_statements. If left at the default value then queries longer than 1024 characters will not be collected.
pg_stat_statements.track = ALL # Optional. Enables tracking of statements within stored procedures and functions.
pg_stat_statements.max = 10000 # Optional. Increases the number of normalized queries tracked in pg_stat_statements. This setting is recommended for high-volume databases that see many different types of queries from many different clients.
track_io_timing = on # Optional. Enables collection of block read and write times for queries.

#--------------------------
# DEFAULTS
#--------------------------

# If you want to override any of the defaults below, uncomment and change the line.

listen_addresses = '*'         # what IP address(es) to listen on;
                                        # comma-separated list of addresses;
                                        # defaults to 'localhost', '*' = all
#port = 5432                            # (change requires restart)
#max_connections = 100                  # (change requires restart)
#superuser_reserved_connections = 3     # (change requires restart)
#unix_socket_directories = '/var/run/postgresql' # comma-separated list of directories
                                                # (change requires restart)
#unix_socket_group = ''                 # (change requires restart)
#unix_socket_permissions = 0777         # begin with 0 to use octal notation
#bonjour = off                          # advertise server via Bonjour
                                        # (change requires restart)
#bonjour_name = ''                      # defaults to the computer name
#password_encryption = md5              # md5 or scram-sha-256
#db_user_namespace = off
#idle_in_transaction_session_timeout = 0 # in milliseconds, 0 is disabled
#application_name = ''                  # any name you like, shows up in logs
#cluster_name = ''                      # (change requires restart)
#dynamic_shared_memory_type = posix     # the default is the first option
#                                       # supported by the operating system:
#                                       #   posix
#                                       #   sysv
#                                       #   windows
#log_destination = 'stderr'             # Valid values are combinations of
#                                       # stderr, csvlog, syslog, and eventlog,
#                                       # depending on platform.  csvlog
#                                       # and syslog require logging_collector
#                                       # to be on.
#logging_collector = off                # Enable capturing of stderr and csvlog
#                                       # into log files. Required to be on for
#                                       # csvlogs.
#log_directory = 'pg_log'               # directory where log files are written,
#                                       # can be absolute or relative to PGDATA
#log_filename = 'postgresql-%Y-%m-%d_%H%M%S.log' # log file name pattern,
#                                       # can include strftime() escapes
#log_file_mode = 0600                   # creation mode for log files,
#                                       # begin with 0 to use octal notation
#log_truncate_on_rotation = off         # If on, an existing log file with the
#                                       # same name as the new log file will be
#                                       # truncated rather than appended to.
#log_rotation_age = 1d                  # Automatic rotation of logfiles will
#                                       # happen after that time
